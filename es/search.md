https://www.elastic.co/guide/en/elasticsearch/reference/5.5/search.html

1. search_type的两中类型：

- 问题：
  - 1.查询时指定from 100，10。如果有10个分片，而且第一个分片的数据刚好能够满足需求，但是仍旧需要从其他9个分片分别取110个文档，然后在协调节点整理排序所有文档，后返回10条数据。
  - 2.每个分片都是独立的，文档的算分是在分片上计算的，因此通过TF/IDF算法，如果分片文档数量过少时，会导致查询词在分片各自的文档库中的频率不一，而导致算分不精确。

- query_then_fetch（**默认查询类型**）：协调节点先向所有相关的分片发起请求，分片**只返回排序列表所需的数据**。协调节点整理后找到100-110条数据所在的分片，并只向相关的分片查询对应的文档信息。
- dfs_query_then_fetch：在query_then_fetch的第一阶段会去查询所有分片的文档词频来达到更准确的评分。

2. from/Size：from+size的数量不能超过index.max_result_window，默认是10000。而且分页效率并不高。
3. scroll：用于从大量文档中检索出单页结果，不过不适用于用户实时查询，而是用于处理大量数据：将数据从一个索引转移到另一个索引。
4. search after：适用于用户实时查询，利用上一页的结果帮助下一页的检索。但是处理解决跳页的场景。
5. post filter：post filter执行于聚合之后，也就是先查询，结果用于聚合后，在执行post filter得到最终查询结果。也不会影响聚合的内容。
6. 

