- 具体看wps中的redis章节

- processon上面

# 其他

## redis的管道

https://www.cnblogs.com/xiaoxiongcanguan/p/9954254.html

好处：不是建立频繁的连接，而是因为每个命令需要一应一答。而管道是将命令一次性打包发给服务端，服务端一次返回所有指令的请求。

发送：由客户端来维护发送缓冲区，满了再发送，如果后续没满的，要通过flush来触发发送。

## 事务

https://www.cnblogs.com/kangoroo/p/7535405.html

只是没有错误时的一个回滚（redis服务宕机的问题无法解决）

但是能够保证这个事务执行时不会被打断，同时有watch机制，可以提前监听某个key是否在事务exec前被修改过。

watch 监听某个key

multi 开启

语句（set key xx，del key）

exec 执行

discard （在exec之前，用于放弃事务）

## 持久化的rdb的内存问题

https://blog.csdn.net/qq_35843095/article/details/108536710

父子进程通过共享内存（进程的页表映射到物理页上），子进程用来生存快照，父进程还是继续处理请求。当有请求时，父进程是对数据页进行复制，然后修改复制后的数据页。因此子进程还是读的生存快照时的数据。

## 事务、管道、lua脚本

事务 和 lua脚本应该没有什么区别，都是保证原子性。、

事务是将指令有序地执行，通过watch来监听来保证原子性，出现被修改则不执行事务，由应用层控制是否后继续执行。

lua是将所有指令当成一个指令以此来保证原子性。

管道更适合key之间没有任何关联的，且支持指令较多的。