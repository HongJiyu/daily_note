# 第二章

nodejs适合异步编程，因为： 闭包 + 第一类对象（函数）

# 第三章 加载模块

1.取消了js的全局名称空间，而是采用CommonJS模块系统取代。

2.导出时使用module.exports 和exports的关系。

3.导入时：

- 核心模块、npm i的模块，用模块名
- 绝对路径、相对路径（./），可以省略.js
- 文件夹，默认找文件夹下的package.json中的main属性的值，再拼接地址。否则找index.js 文件
- 从文件所在路径找 ./node_moudules/xxx 再文件的上一级目录： ../node_modules/xxx

4.导入模块时，被导的模块只会被初始化一次。

# 第四章 buffer

# 第五章

标准回调模式。（cps、后继传递）

事件发生器模式。

一般而言：当请求操作完成后重新获取控制权时就用CPS模式，当事件能发生多次就用事件发射器模式。

```js
on/addListener
removeListener //需要指定回调函数名，因此不能匿名
once
removeAllListeners()
```

如果不监听error事件，那么当error事件发生，发射器会注意到它，并向上抛出一个未捕获的异常。

事件发射器负责按照事件绑定的监听器的顺序，一次调用事件监听器：1. 后面的事件监听器要等上个监听器被调用。2.上个监听器异常，会导致后续的监听器不会被执行。

# 第六章 定时器